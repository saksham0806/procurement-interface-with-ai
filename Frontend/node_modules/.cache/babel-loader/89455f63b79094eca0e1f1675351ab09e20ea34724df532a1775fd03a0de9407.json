{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Navbar from\"./components/Navbar\";import Login from\"./components/Login\";import Dashboard from\"./components/Dashboard\";import RFPList from'./components/RFPList';import QuoteList from'./components/QuoteList';import PurchaseOrderList from'./components/PurchaseOrderList';import ApprovalCenter from\"./components/ApprovalCenter\";import AIDashboard from'./components/AIDashboard';import ContractAuditModule from'./components/ContractAuditModule';import AIVendorEvaluation from'./components/AIVendorEvaluation';import'./App.css';// Set up axios defaults\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL='https://procurement-backend-india-1758972620.azurewebsites.net';// Auth Context\nconst AuthContext=/*#__PURE__*/React.createContext();const App=()=>{const[user,setUser]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');const[loading,setLoading]=useState(true);useEffect(()=>{const token=localStorage.getItem('token');if(token){axios.defaults.headers.common['Authorization']=\"Bearer \".concat(token);// In a real app, you'd verify the token with the server\n// For now, we'll assume it's valid and decode the user info\ntry{const payload=JSON.parse(atob(token.split('.')[1]));// You'd typically make an API call to get full user info\nsetUser({id:payload.userId,role:payload.role});}catch(error){localStorage.removeItem('token');}}setLoading(false);},[]);const handleLogin=userData=>{setUser(userData);setActiveTab('dashboard');};const handleLogout=()=>{localStorage.removeItem('token');delete axios.defaults.headers.common['Authorization'];setUser(null);setActiveTab('dashboard');};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin});}const renderContent=()=>{switch(activeTab){case'dashboard':return/*#__PURE__*/_jsx(Dashboard,{user:user});case'rfps':return/*#__PURE__*/_jsx(RFPList,{user:user});case'quotes':return/*#__PURE__*/_jsx(QuoteList,{user:user});case'orders':return/*#__PURE__*/_jsx(PurchaseOrderList,{user:user});case'approvals':return/*#__PURE__*/_jsx(ApprovalCenter,{user:user});case'ai-dashboard':return/*#__PURE__*/_jsx(AIDashboard,{user:user});case'contract-audit':return/*#__PURE__*/_jsx(ContractAuditModule,{onClose:()=>setActiveTab('dashboard')});default:return/*#__PURE__*/_jsx(Dashboard,{user:user});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Navbar,{user:user,onLogout:handleLogout}),/*#__PURE__*/_jsxs(\"div\",{className:\"app-content\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"sidebar\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='dashboard'?'active':'',onClick:()=>setActiveTab('dashboard'),children:\"Dashboard\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='rfps'?'active':'',onClick:()=>setActiveTab('rfps'),children:user.role==='buyer'?'My RFPs':'Available RFPs'})}),user.role==='vendor'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='quotes'?'active':'',onClick:()=>setActiveTab('quotes'),children:\"My Quotes\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='orders'?'active':'',onClick:()=>setActiveTab('orders'),children:\"Purchase Orders\"})}),(user.role==='approver'||user.role==='admin')&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='approvals'?'active':'',onClick:()=>setActiveTab('approvals'),children:\"Pending Approvals\"})}),user.role==='buyer'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:activeTab==='ai-dashboard'?'active':'',onClick:()=>setActiveTab('ai-dashboard'),children:\"AI Insights\"})})]})}),/*#__PURE__*/_jsx(\"main\",{className:\"main-content\",children:renderContent()})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","Navbar","Login","Dashboard","RFPList","QuoteList","PurchaseOrderList","ApprovalCenter","AIDashboard","ContractAuditModule","AIVendorEvaluation","jsx","_jsx","jsxs","_jsxs","defaults","baseURL","AuthContext","createContext","App","user","setUser","activeTab","setActiveTab","loading","setLoading","token","localStorage","getItem","headers","common","concat","payload","JSON","parse","atob","split","id","userId","role","error","removeItem","handleLogin","userData","handleLogout","className","children","onLogin","renderContent","onClose","onLogout","onClick"],"sources":["/run/media/Saksham/Saksham/Code/Projects/ai-supplies/Frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport Navbar from \"./components/Navbar\"\nimport Login from \"./components/Login\"\nimport Dashboard from \"./components/Dashboard\"\nimport RFPList from './components/RFPList';\nimport QuoteList from './components/QuoteList';\nimport PurchaseOrderList from './components/PurchaseOrderList';\nimport ApprovalCenter from \"./components/ApprovalCenter\"\nimport AIDashboard from './components/AIDashboard';\nimport ContractAuditModule from './components/ContractAuditModule';\nimport AIVendorEvaluation from './components/AIVendorEvaluation';\nimport './App.css';\n\n// Set up axios defaults\naxios.defaults.baseURL = 'https://procurement-backend-india-1758972620.azurewebsites.net';\n\n// Auth Context\nconst AuthContext = React.createContext();\n\nconst App = () => {\n  const [user, setUser] = useState(null);\n  const [activeTab, setActiveTab] = useState('dashboard');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n      // In a real app, you'd verify the token with the server\n      // For now, we'll assume it's valid and decode the user info\n      try {\n        const payload = JSON.parse(atob(token.split('.')[1]));\n        // You'd typically make an API call to get full user info\n        setUser({ id: payload.userId, role: payload.role });\n      } catch (error) {\n        localStorage.removeItem('token');\n      }\n    }\n    setLoading(false);\n  }, []);\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n    setActiveTab('dashboard');\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    delete axios.defaults.headers.common['Authorization'];\n    setUser(null);\n    setActiveTab('dashboard');\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  if (!user) {\n    return <Login onLogin={handleLogin} />;\n  }\n\n  const renderContent = () => {\n    switch (activeTab) {\n      case 'dashboard':\n        return <Dashboard user={user} />;\n      case 'rfps':\n        return <RFPList user={user} />;\n      case 'quotes':\n        return <QuoteList user={user} />;\n      case 'orders':\n        return <PurchaseOrderList user={user} />;\n      case 'approvals':\n        return <ApprovalCenter user={user} />;\n      case 'ai-dashboard':\n        return <AIDashboard user={user} />;\n      case 'contract-audit':\n        return <ContractAuditModule onClose={() => setActiveTab('dashboard')} />;\n      default:\n        return <Dashboard user={user} />;\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <Navbar user={user} onLogout={handleLogout} />\n\n      <div className=\"app-content\">\n        <nav className=\"sidebar\">\n          <ul>\n            <li>\n              <button\n                className={activeTab === 'dashboard' ? 'active' : ''}\n                onClick={() => setActiveTab('dashboard')}\n              >\n                Dashboard\n              </button>\n            </li>\n            <li>\n              <button\n                className={activeTab === 'rfps' ? 'active' : ''}\n                onClick={() => setActiveTab('rfps')}\n              >\n                {user.role === 'buyer' ? 'My RFPs' : 'Available RFPs'}\n              </button>\n            </li>\n            {user.role === 'vendor' && (\n              <li>\n                <button\n                  className={activeTab === 'quotes' ? 'active' : ''}\n                  onClick={() => setActiveTab('quotes')}\n                >\n                  My Quotes\n                </button>\n              </li>\n            )}\n            <li>\n              <button\n                className={activeTab === 'orders' ? 'active' : ''}\n                onClick={() => setActiveTab('orders')}\n              >\n                Purchase Orders\n              </button>\n            </li>\n            {(user.role === 'approver' || user.role === 'admin') && (\n              <li>\n                <button\n                  className={activeTab === 'approvals' ? 'active' : ''}\n                  onClick={() => setActiveTab('approvals')}\n                >\n                  Pending Approvals\n                </button>\n              </li>\n            )}\n            {user.role === 'buyer' && (\n              <li>\n                <button\n                  className={activeTab === 'ai-dashboard' ? 'active' : ''}\n                  onClick={() => setActiveTab('ai-dashboard')}\n                >\n                  AI Insights\n                </button>\n              </li>\n            )}\n            {/* <li>\n              <button\n                className={activeTab === 'contract-audit' ? 'active' : ''}\n                onClick={() => setActiveTab('contract-audit')}\n              >\n                Contract Audit\n              </button>\n            </li> */}\n          </ul>\n        </nav>\n\n        <main className=\"main-content\">\n          {renderContent()}\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}